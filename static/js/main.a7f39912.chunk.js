(this["webpackJsonprestaurants-fe"]=this["webpackJsonprestaurants-fe"]||[]).push([[0],{19:function(e,t,a){e.exports=a(44)},24:function(e,t,a){},25:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),l=(a(24),a(2)),i=(a(25),a(5)),o=a.n(i),u=a(17),m=a(18),f=a.n(m),d={headers:{Authorization:"Api-Key q3MNxtfep8Gt"}},E=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://code-challenge.spectrumtoolbox.com/api/restaurants",d);case 2:if("OK"===(t=e.sent).statusText){e.next=5;break}throw Error("Restaurants are closed, can't fetch restaurants");case 5:return a=t.data.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(e){var t=e.setSearchText,a=Object(n.useState)(""),c=Object(l.a)(a,2),s=c[0],i=c[1],o=function(e){"Enter"!==e.key&&"submit"!==e.target.type||t(s)};return r.a.createElement("section",{className:"section is-flex"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Search",onChange:function(e){return function(e){i(e.target.value)}(e)},onKeyPress:function(e){return o(e)}})),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-danger"},r.a.createElement("span",{className:"icon is-small is-right",onClick:function(){return t(""),void(document.querySelector(".input").value="")}},r.a.createElement("i",{className:"fas fa-times"}))))),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("p",{className:"control is-expanded"}),r.a.createElement("button",{className:"button is-danger",onClick:function(e){return o(e)}},"Search")))},h=a(6),b=function(e){var t=e.allRestaurants,a=e.setState,n=e.setGenre;return r.a.createElement("section",{className:"section has-background-success"},r.a.createElement("h1",{className:"title"},"Filters"),r.a.createElement("div",{className:"container is-flex"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"is-size-5-touch is-size-4"},"State"),r.a.createElement("div",{className:"select"},r.a.createElement("select",{onChange:function(e){return function(e){var t=e.target.value;a("All"===t?"":t)}(e)}},r.a.createElement("option",{value:"All",defaultValue:!0},"All"),function(e){var t=e.map((function(e){return e.state})),a=Object(h.a)(new Set(t));return(a=a.sort((function(e,t){return e<t?-1:e>t?1:0}))).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))}(t)))),r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"is-size-5-touch is-size-4"},"Genre"),r.a.createElement("div",{className:"select"},r.a.createElement("select",{onChange:function(e){return function(e){var t=e.target.value;n("All"===t?"":t)}(e)}},r.a.createElement("option",{value:"All",defaultValue:!0},"All"),function(e){var t=e.map((function(e){return e.genre.split(",")})).flat(),a=Object(h.a)(new Set(t));return(a=a.sort((function(e,t){return e<t?-1:e>t?1:0}))).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))}(t))))))},v=function(e){var t=e.rest,a=Object(n.useState)(!1),c=Object(l.a)(a,2),s=c[0],i=c[1],o=function(){i(!s)};return r.a.createElement("div",{className:"card mt-4"},r.a.createElement("header",{className:"card-header is-block-touch"},r.a.createElement("p",{className:"card-header-title is-size-5-touch"},t.name),r.a.createElement("p",{className:"card-header-title is-size-6-mobile py-0"},t.city,", ",t.state),r.a.createElement("p",{className:"card-header-title is-size-6-mobile py-0"},t.telephone),r.a.createElement("p",{className:"card-header-title is-size-6-mobile py-0"},t.genre),r.a.createElement("a",{className:"card-header-icon","aria-label":"more options",onClick:function(){return o()}},s?r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-angle-up","aria-hidden":"true"})):r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),s&&function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("p",null,e.hours),r.a.createElement("p",null,e.address1," ",r.a.createElement("br",null),e.city,", ",e.state," ",e.zip),r.a.createElement("a",{href:e.website,target:"_blank",rel:"noopener noreferrer"},e.website),r.a.createElement("p",{className:"is-italic"},"Attire: ",e.attire))),r.a.createElement("footer",{className:"card-footer"},r.a.createElement("a",{href:"#",className:"card-footer-item",onClick:function(){return o()}},"Close")))}(t))},N=function(e){var t=e.filteredRestaurants;return r.a.createElement("section",{className:"section has-background-primary"},r.a.createElement("h1",{className:"title has-text-white"},"Restaurants:"),function(e){return e.length?e.map((function(e){return r.a.createElement(v,{key:e.id,rest:e})})):r.a.createElement("p",null,"No Restaurants Found")}(t))},g=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),i=Object(l.a)(s,2),o=i[0],u=i[1],m=Object(n.useState)(""),f=Object(l.a)(m,2),d=f[0],h=f[1],v=Object(n.useState)(""),g=Object(l.a)(v,2),w=g[0],O=g[1],j=Object(n.useState)(""),y=Object(l.a)(j,2),S=y[0],k=y[1],x=Object(n.useState)(!0),C=Object(l.a)(x,2),z=C[0],A=C[1];Object(n.useEffect)((function(){E().then((function(e){c(e),u(e)})),A(!1)}),[]),Object(n.useEffect)((function(){var e=R();u(e)}),[w,S,d,z]);var R=function(){return a.filter((function(e){var t=d.toLowerCase(),a=e.name.toLowerCase(),n=e.city.toLowerCase(),r=e.genre.toLowerCase();return e.genre.includes(S)&&(e.state===w||""===w)&&(a.includes(t)||n.includes(t)||r.includes(t))}))};return r.a.createElement("main",{className:"container is-widescreen"},r.a.createElement(p,{setSearchText:h}),r.a.createElement(b,{allRestaurants:a,setState:O,setGenre:k}),r.a.createElement(N,{filteredRestaurants:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.a7f39912.chunk.js.map